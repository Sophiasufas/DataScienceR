---
title: "hw4"
author: "Sophia"
date: "2018å¹?4???12?—¥"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

##—é›²PopDaily ªiªiÂL²úªº²§·Q¥@¬Éªº¤å¦r¶³
·Qª¾¹D¦b¯»µ·±M­¶PopDaily ªiªiÂL²úªº²§·Q¥@¬É¤¤µo¤å¥X²{ÀW²v³Ì°ªªº¬O¨º¨Çµü»y
—é›²
```{r }
require("Rfacebook")
library(NLP)
library(tm)
library(jiebaRD)
library(jiebaR)
library(RColorBrewer)
library(wordcloud)
#§ì¨úÁy®Ñ¸ê®Æ
token <-"EAACEdEose0cBAEkjMBQPustP041kxGh1nHBX5x4dvkqbjqTuGyMS7kEWqfPzaMuQRdr1dZARVZCvvXXnkeFRXLT3JEVIOCGPjs6qlctrwHD7mk0ZBDZBnLMEfkQYZAZBWn9tez77mqOJfdnCPWKOoebuZBKVVDtZBSmx1z1BtDdCdILnp7NT0RoZAGbySZBZANrPaIX58xSkC9wBwZDZD"
me <- getUsers("me", token, private_info = TRUE)
me$name
page.id <- "445164788956922" 
page <- getPage(page.id, token, n = 300)
#¤å¥»²M²z
docs <-Corpus(VectorSource(page$message))
toSpace <- content_transformer(function(x, pattern){
  return(gsub(pattern," ", x))}
)
docs <- tm_map(docs, toSpace, "ªº")
docs <- tm_map(docs, toSpace, "°Ú")
docs <- tm_map(docs, toSpace, "¯¸")
docs <- tm_map(docs, toSpace, "¦³")
docs <- tm_map(docs, toSpace, "¤F")
docs <- tm_map(docs, toSpace, "¬O")
docs <- tm_map(docs, toSpace, "«Ü")
docs <- tm_map(docs, toSpace, "³£")
docs <- tm_map(docs, toSpace, "¦b")
docs <- tm_map(docs, toSpace, "©M")
docs <- tm_map(docs, toSpace, "³o")
docs <- tm_map(docs, toSpace, "Åý")
docs <- tm_map(docs, toSpace, "¸ò")
docs <- tm_map(docs, toSpace, "´N")
docs <- tm_map(docs, toSpace, "¯u")
docs <- tm_map(docs, toSpace, "¤W")
docs <- tm_map(docs, toSpace, "¦ý")
docs <- tm_map(docs, toSpace, "¤S")
docs <- tm_map(docs, removePunctuation)
docs <- tm_map(docs, removeNumbers)
docs <- tm_map(docs, stripWhitespace)
#¤å¦r¶³
mixseg = worker()
jieba_tokenizer=function(d){
  unlist(segment(d[[1]],mixseg))
}
seg = lapply(docs, jieba_tokenizer)
freqFrame = as.data.frame(table(unlist(seg)))
freqFrame = freqFrame[-c(1:34),]
wordcloud(freqFrame$Var1,freqFrame$Freq,
          scale=c(5,0.5),min.freq=10,max.words=50,
          random.order=FALSE, random.color=TRUE, 
          rot.per=0, colors=brewer.pal(8, "Dark2"),
          ordered.colors=FALSE,use.r.layout=FALSE,
          fixed.asp=TRUE)


```